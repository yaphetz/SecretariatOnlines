<div class="imessage" >
    <p *ngFor="let reply of replies | async" [ngClass]="(reply.sender == 'student') ? 'from-me' : 'from-them' ">
        {{reply.message}}

          <mat-chip-list *ngIf="reply.attachments" style="display: flex;">
            <mat-chip *ngFor="let attachment of reply.attachments">
              <a (click)="downloadFile(attachment.downloadUrl)">
              <mat-chip-avatar>
                  <mat-icon>task</mat-icon>
              </mat-chip-avatar>
              {{attachment.name}}
            </a>
            </mat-chip>
          </mat-chip-list>



    </p>

</div>

<div class="send-message-container">
  <mat-form-field style="width: 100%" class="example-full-width" appearance="fill">
    <mat-label>Scrie un mesaj</mat-label>
    <textarea matInput placeholder="Ex. BunÄƒ ziua" [(ngModel)]='messageContent' (keyup.enter)="sendMessage()"></textarea>
  </mat-form-field>
  <button mat-raised-button color="primary" (click)="sendMessage()">
    <mat-icon>send</mat-icon>
  </button>
</div>



  <div class="send-and-upload">
    <app-file-upload (uploadedFilesEmitter)="receiveUploadedFiles($event)"></app-file-upload>
  </div>
